<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Denuncias - Proyecto Basurero</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/denuncias.css">
</head>
<body>
    <a href="#main" class="skip-link">Saltar al contenido principal</a>
    
    <header>
        <div class="nav-container">
            <nav>
                <ul role="list">
                    <li><a href="index.html">🏠 Inicio</a></li>
                    <li><a href="calendario.html">📅 Calendario</a></li>
                    <li><a href="noticias.html">📰 Noticias</a></li>
                    <li><a href="ubicacion.html">📍 Ubicación</a></li>
                    <li><a href="denuncias.html" class="active">📣 Denuncias</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main">
        <div class="welcome-section">
            <h2>📣 Denuncias de la Comunidad</h2>
            <p>Reporta problemas en tu zona para que podamos solucionarlos juntos. Tu voz es importante para construir una comunidad mejor.</p>
        </div>

        <!-- Lista de denuncias aprobadas -->
        <section class="denuncias-section">
            <h3>Denuncias Reportadas</h3>
            <div id="lista-denuncias" class="denuncias-list">
                <div class="skeleton denuncia-skeleton"></div>
                <div class="skeleton denuncia-skeleton"></div>
            </div>
        </section>

        <hr>

        <!-- Formulario para crear nueva denuncia -->
        <section class="nueva-denuncia">
            <h3>✍️ Realizar una nueva denuncia</h3>
            <form id="formDenuncia" class="form-denuncia">
                <div class="form-group">
                    <label for="titulo">Título de la denuncia</label>
                    <input type="text" id="titulo" placeholder="Ej: Basura acumulada en la esquina" required>
                </div>
                
                <div class="form-group">
                    <label for="descripcion">Descripción detallada</label>
                    <textarea id="descripcion" rows="4" placeholder="Describe lo que sucede, dónde y desde cuándo..." required></textarea>
                </div>
                
                <!-- Input para subir fotos -->
                <div class="form-group">
                    <label for="fotos">Fotos de evidencia (opcional)</label>
                    <div class="file-input-container">
                        <input type="file" id="fotos" multiple accept="image/*" aria-describedby="fotos-help">
                        <label for="fotos" class="file-input-label">
                            <div class="file-icon">📸</div>
                            <div class="file-text">
                                <strong>Subir fotos</strong>
                                <small>Haz clic aquí o arrastra las imágenes</small>
                            </div>
                        </label>
                        <small id="fotos-help" class="help-text">Máximo 5 fotos. Formatos: JPG, PNG, GIF</small>
                    </div>
                </div>

                <!-- Preview de las fotos seleccionadas -->
                <div id="preview-container" class="preview-container"></div>

                <button type="submit" class="btn-submit">
                    <span>Enviar denuncia</span>
                </button>
            </form>
            
            <div id="mensajeExito" class="mensaje-exito" style="display:none;">
                <span class="icon">✅</span>
                <span>Tu denuncia fue enviada y está pendiente de aprobación.</span>
            </div>
        </section>
    </main>

    <!-- Modal para ver fotos en grande -->
    <div id="modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
        <div class="modal-backdrop" aria-label="Cerrar modal"></div>
        <div class="modal-content">
            <button class="modal-close" aria-label="Cerrar imagen">&times;</button>
            <img id="modal-img" alt="Imagen ampliada">
            <div id="modal-title" class="sr-only">Vista ampliada de la imagen</div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Proyecto Basurero. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="services/denuncias.js"></script>
</body>
</html>